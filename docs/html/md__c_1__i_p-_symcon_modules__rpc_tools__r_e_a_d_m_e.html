<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RpcTools 5.x Project: RpcTools for IP-Symcon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RpcTools 5.x Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__c_1__i_p-_symcon_modules__rpc_tools__r_e_a_d_m_e.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RpcTools for IP-Symcon </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><b>Requires</b> IP-Symcon version <b>4.3</b> or greater</li>
</ul>
<h1>Configurator Module</h1>
<pre class="fragment">Discover your network to found Upnp Rpc Devices
Special Devices 
1. Homematic CCU
2. Enigma2 WebInterface
3. Fritzbox (see Add One Modules)
</pre><p>Works:</p>
<p>The search of devices in the network takes between 5 and 180 seconds, depending on the timeout setting in the configurator and the number of found device.</p>
<p>The result is that the <em>local Windows</em> console seems to hang, but it is not like this :-( In the <em>Webfront console</em>, you can track progress in the debug log.</p>
<p>You can use <b>RpcConfigurator</b> to find and create new devices. If your device does not appear in the list and you have the <em>device description XML file URL</em> then you can either create a generic or multimedia Module and enter the <em>full URL</em> as HOST. The module then tries to configure itself.</p><ul>
<li>NOTE When specifying multiple URLs, these are either separated as a string by comma or passed as a simple array</li>
<li>Example urls<ul>
<li><a href="http://fritz.box:49000/tr64desc.xml">http://fritz.box:49000/tr64desc.xml</a></li>
<li><a href="http://192.168.112.61:8000/serverxml.xml,http://192.168.112.61:8080/description.xml">http://192.168.112.61:8000/serverxml.xml,http://192.168.112.61:8080/description.xml</a></li>
<li>homematic.xml for CCU</li>
<li>enigma2.xml for DreamBox Enigma2 WebInterface</li>
</ul>
</li>
</ul>
<p>All modules include timer functions for updating the status variables, with the exception of the RPCGENERIC module. There are 2 timer modes <em>UPDATE</em> and <em>OFFLINE</em> which can each have separate values, this means when the device is <em>online</em> the status is updated every 15min, if it is <em>offline</em> (TV off) the check / update will take place only every 2 hours until the device is <em>online</em> again.</p>
<p>All module exports the functions</p><ul>
<li><b>xxx_GetApi</b>(IpsInstanceID) Returns an <b><a class="el" href="class_rpc_api.html">RpcApi</a></b> object with which all further commands can be sent to the device.</li>
<li><b>xxx_GetApiInfo</b>(IpsInstanceID) Returns an array of informatons to the API</li>
</ul>
<h1>Generic RPC Module</h1>
<p>API to call all methods discovered from device only one Variable for Status created</p>
<p>This module also exports the function</p><ul>
<li><b>RPCGENERIC_CallMethod</b>(IpsInstanceID, FunctionName, comma-separated string with parameters)</li>
</ul>
<p>Works:</p>
<p>the syntax is the same as <b>$api</b>-&gt; __ call (FunctionName, Parameter), with the difference that the parameters are passed not as an array but as a comma-separated string.</p><ul>
<li><b>RPCGENERIC_CallApi</b>(IpsInstanceID, 'SetVolume', "0, Master, 10")</li>
<li><b>RPCGENERIC_CallApi</b>(IpsInstanceID, 'GetVolume', "0, Master") or</li>
<li><b>$api</b> = <b>RPCGENERIC_GetApi</b>(IpsInstanceID)</li>
<li>$volume = <b>$api</b>-&gt; GetVolume (0, "Master")</li>
<li><b>$api</b>-&gt;SetVolume (0, "Master", $ volume)</li>
</ul>
<p>Calling it via the <em><a class="el" href="class_rpc_api.html">RpcApi</a></em> object <b>$api</b> is useful in any case when calling several, consecutive, calls, as it does not make sense, as with xxx_GetApi (IpsInstanceID), with each call the module is recreated.</p>
<p>Furthermore, it is possible to address calls directly to an service. Since some Rpc devices such as the Fritzbox contains several functions of the same name, GetInfo(), it is necessary to transfer the service name. This happens as follows</p><ul>
<li><b>$api</b>-&gt;__ call ("DeviceInfo1.GetInfo", array with parameter) or</li>
<li><b>$api</b>-&gt;{"DeviceInfo1.GetInfo"}(parameter,parameter...)</li>
</ul>
<h1>Multimedia RPC Module</h1>
<p>Includes Standard methods for</p><ol type="1">
<li>Volume, Mute (Generic)</li>
<li>Bass, Loudness, Trebble (sonos)</li>
<li>Play,Pause,Stop,Next,Previous (Generic)</li>
<li>Color,Brightness,Sharpness, Contrast (TV )</li>
</ol>
<p>This module also exports the functions</p><ul>
<li><b>RPCMEDIA_RequestUpdate</b>(IpsInstanceID) updates all status variables</li>
<li><b>RPCMEDIA_WriteValue</b>(IpsInstanceID,statusvar,value) set status variable</li>
</ul>
<p>Works:</p>
<p>Since InstanceID is usually 0, this variable does not have to be specified, just like Channel, these values are automatically added when called.</p>
<p>Therefore the call with <b>$api</b>-&gt;GetVolume() or <b>$api</b>-&gt;SetVolume(10) is also possible.</p>
<p>The volume can be changed or read as follows</p><ul>
<li><b>$api</b>=**RPCMEDIA_GetApi**(IpsInstanceID)</li>
<li>$volume=**$api**-&gt;GetVolume()</li>
<li><b>$api</b>-&gt;SetVolume(NewVolume)</li>
</ul>
<p>or use the <b>RPCMEDIA_WriteValue</b> function to change status variables.</p><ul>
<li><b>RPCMEDIA_WriteValue**IpsInstanceID, 'VOLUME', 10) sets the volume to 10</b></li>
<li><p class="startli"><b>**RPCMEDIA_WriteValue</b>(IpsInstanceID, 'PLAYSTATE', value) is used to control the playback, whereby the following values are possible:</p><ul>
<li>0: Stop</li>
<li>1: Pause</li>
<li>2: Play</li>
<li>3: Next</li>
<li>4: Prevoius <br />
 <h1>Note:</h1>
</li>
</ul>
<p class="startli">To keep the cache device config files small, unneeded functions and status variables are ignored when processing the XML files. If you want to dive deeper finds everything in the discrover.inc file, I also have the modules in the source code (for my purposes * laugh *) well documented.</p>
</li>
</ul>
<h1>Add One Modules</h1>
<p>can found here <a href="https://github.com/softbar/RpcAddOnes">https://github.com/softbar/RpcAddOnes</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
