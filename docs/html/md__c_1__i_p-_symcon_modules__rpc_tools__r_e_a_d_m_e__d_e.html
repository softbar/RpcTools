<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RpcTools 5.x Project: RpcTools für IP-Symcon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RpcTools 5.x Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__c_1__i_p-_symcon_modules__rpc_tools__r_e_a_d_m_e__d_e.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RpcTools für IP-Symcon </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><b>Benötigt</b> IP-Symcon Version <b>4.3</b> oder größer</li>
</ul>
<h1>Konfigurator Module</h1>
<pre class="fragment">Durchsucht das Netzwerk nach Rpc Geräten
Sondermodule
1. Homematic CCU
2. Enigma2 WebInterface
3. Fritzbox (see Add One Modules)
</pre><p>Arbeitet wie folgt:</p>
<p>Die Suche nach Geräten im Netzwerk dauert zwischen 5 und 180 Sekunden abhängig von der Timeout-Einstellung im Konfigurator und der Anzahl gefundener Geräte.</p>
<p>Das Ergebnis ist, dass die lokale Windows-Konsole zu hängen scheint, ist aber nicht so :p</p>
<p>In der Webfront-Konsole kann man den Fortschritt im Nachrichtenprotokoll verfolgen.</p>
<p>Mit dem RpcConfigurator können neue Geräte einfach gesucht und erstellt werden. Wenn dein Gerät nicht in der Liste angezeigt wird und Du die Gerät Beschreibungs-XML-Datei-URL kennst, dann kannst du entweder eine allgemeines oder ein Multimedia-Module erstellen und die vollständige URL als HOST eingeben. Das Modul versucht dann, sich selbst zu konfigurieren.</p><ul>
<li>HINWEIS Wenn Du mehrere URLs angeben möchtest, dann werden diese entweder als Zeichenfolge durch Komma getrennt oder als einfaches Array übergeben</li>
<li>Beispiel Urls<ul>
<li><a href="http://fritz.box:49000/tr64desc.xml">http://fritz.box:49000/tr64desc.xml</a></li>
<li><a href="http://192.168.112.61:8000/serverxml.xml,http://192.168.112.61:8080/description.xml">http://192.168.112.61:8000/serverxml.xml,http://192.168.112.61:8080/description.xml</a></li>
<li>homematic.xml &lt; für CCU</li>
<li>enigma2.xml &lt; für DreamBox Enigma2 WebInterface</li>
</ul>
</li>
</ul>
<p>Alle Module beinhalten Timer Funktionen zum aktualisieren der Statusvariablen , mit Ausnahme des RPCGENERIC Moduls . Es gibt 2 Timermodes UPDATE und OFFLINE die jeweils getrennte werte haben können, dies bedeutet wenn das Gerät online ist wird der Status alle 15min aktualisiert , wenn es offline ist (TV ausgeschaltet) findet die Prüfung / Aktualisierung nur alle 2 Stunden statt solange bis das Gerät wieder online ist.</p>
<p>Alle Module exportieren die Funktionen xxx_GetApi und xxx_GetApiInfo</p>
<p>-xxx_GetApi() gibt ein <a class="el" href="class_rpc_api.html">RpcApi</a> Objekt zurück, mit dem alle weiteren Befehle an das Gerät gesendet werden können. -xxx_GetApiInfo() Liefert ein Array mit Informationen zur API</p>
<h1>Generic RPC Module</h1>
<p>API zum Aufrufen aller vom Gerät erkannten Methoden Es wird nur eine Variable für den Status erstellt</p>
<p>Arbeitet:</p>
<p>Dieses Modul exportiert zusätzlich die Funktionen RPCGENERIC_CallMethod</p><ul>
<li>RPCGENERIC_CallMethod(IpsInstanceID,FunctionName, Kommagetrennter String mit Parametern)</li>
</ul>
<p>die Syntax entspricht $api-&gt;__call(FunctionName, Parameter ) mit dem Unterschied das die Parameter nicht als Array sondern als Komma-getrennter String übergeben.</p><ul>
<li>RPCGENERIC_CallApi(IpsInstanceID,'SetVolume',"0,Master,10")</li>
<li>RPCGENERIC_CallApi(IpsInstanceID,'GetVolume',"0,Master") oder</li>
<li>$api = RPCGENERIC_GetApi(IpsInstanceID)</li>
<li>$volume=$api-&gt;GetVolume(0,"Master")</li>
<li>$api-&gt;SetVolume(0,"Master",$volume)</li>
</ul>
<p>Der Aufruf über das <a class="el" href="class_rpc_api.html">RpcApi</a> Objekt $api ist in jedem fall bei mehreren, aufeinander folgenden ,aufrufen sinnvoll da nicht , wie bei xxx_GetApi(IpsInstanceID), bei jedem Aufruf das Module neu erstellt wird.</p>
<p>Darüber hinaus ist es möglich, Anrufe direkt an einen Dienst zu richten. Da einige Rpc-Geräte wie zb die Fritzbox mehrere gleichnamige Funktionen enthält, ist es notwendig, den Dienstnamen beim Aufruf anzugeben. Das passiert wie folgt</p>
<ul>
<li>$api-&gt;__ call ("DeviceInfo1.GetInfo", Array mit Parametern) oder</li>
<li>$api-&gt;{"DeviceInfo1.GetInfo"}(Parameter,Parameter...)</li>
</ul>
<h1>Multimedia RPC Module</h1>
<p>Liefert, abhängig vom Gerät, Standardmethoden für</p><ol type="1">
<li>Volume, Mute (Generic)</li>
<li>Bass, Loudness, Trebble (sonos, ect..)</li>
<li>Play,Pause,Stop,Next,Previous (Generic)</li>
<li>Color,Brightness,Sharpness, Contrast (TV )</li>
</ol>
<p>Arbeite: Dieses Modul exportiert zusätzlich die Funktionen</p><ul>
<li>RPCMEDIA_RequestUpdate aktualisiert alle Status variablen</li>
<li>RPCMEDIA_WriteValue setzen von Status variablen</li>
</ul>
<p>Da die Rpc Geräte InstanceID normalerweise 0 ist, muss diese Variable beim Aufruf nicht angegeben werden ebenso die Variable Channel . Diese Werte beim Aufruf automatisch hinzugefügt.</p>
<p>Daher ist auch der Aufruf mit $api-&gt;GetVolume() oder $api-&gt;SetVolume(10) möglich.</p>
<ul>
<li>$api = RPCMEDIA_GetApi(IpsInstanceID)</li>
<li>$api-&gt; SetVolume (NewVolume)</li>
<li>$volume=$api-&gt;GetVolume ()</li>
</ul>
<p>oder</p>
<p>benutze die Funktion RPCMEDIA_WriteValue um Status Variablen zu ändern.</p>
<ul>
<li>RPCMEDIA_WriteValue (IpsInstanceID, 'VOLUME', 10) sets the volume to 10</li>
<li><p class="startli">RPCMEDIA_WriteValue (IpsInstanceID, 'PLAYSTATE', value) wird zur Steuerung der Wiedergabe verwendet, wobei folgende Werte möglich sind:</p><ul>
<li>0: Stop</li>
<li>1: Pause</li>
<li>2: Play</li>
<li>3: Next</li>
<li>4: Prevoius <br />
 <h1>Anmerkung</h1>
</li>
</ul>
<p class="startli">Um die Konfigdateien der Geräte im <a class="el" href="class_cache.html">Cache</a> klein zu halten , werden nicht benötigte Funktionen und Statusvariablen beim verarbeiten der XML Dateien ignoriert. Wer tiefer eintauchen möchte findet alles dazu in der discrover.inc Datei, außerdem habe ich die Module im Quellkode (für meine Verhältnisse <em>lach</em> ) gut dokumentiert.</p>
</li>
</ul>
<h1>Zusatz Module</h1>
<p>findest du hier <a href="https://github.com/softbar/RpcAddOnes">https://github.com/softbar/RpcAddOnes</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
